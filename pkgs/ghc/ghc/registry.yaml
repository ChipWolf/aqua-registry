packages:
  - type: http
    repo_owner: ghc
    repo_name: ghc
    description: The Glorious Glasgow Haskell Compiler.
    link: https://www.haskell.org/ghc/
    url: https://downloads.haskell.org/~ghc/{{.Version}}/ghc-{{.Version}}-{{.Arch}}-{{.OS}}.{{.Format}}
    format: tar.xz
    replacements:
      linux: unknown-linux
      darwin: apple-darwin
      windows: unknown-mingw32
      arm64: aarch64
      amd64: x86_64
    overrides:
      - goos: linux
        url: https://downloads.haskell.org/~ghc/{{.Version}}/ghc-{{.Version}}-{{.Arch}}-alpine3_12-linux-static.{{.Format}}
    files:
      - name: ghc
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/ghc
      - name: ghc-pkg
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/ghc-pkg
      - name: ghci
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/ghci
      - name: haddock
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/haddock
      - name: hp2ps
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/hp2ps
      - name: hpc
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/hpc
      - name: hsc2hs
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/hsc2hs
      - name: runghc
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/runghc
      - name: runhaskell
        src: ghc-{{.Version}}-{{.Arch}}-{{.OS}}/wrappers/runhaskell
